"use strict";var e=require("react"),t=require("@babel/runtime/helpers/taggedTemplateLiteral"),n=require("styled-components"),r=require("@babel/runtime/helpers/slicedToArray"),l=require("@babel/runtime/helpers/toConsumableArray"),u=require("@babel/runtime/helpers/defineProperty");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=a(e),p=a(t),i=a(n),c=a(r),s=a(l),d=a(u),f=function(e){var t=e.children;return o.default.createElement("button",null,t)};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){d.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E,S,y,h,v={steps:[],currentStep:0,stepsCompleted:[],stepMap:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=e.currentStep,r=e.steps,l=e.stepMap,u=t.type,a=t.payload;switch(u){case"SET_STEPS":var o=a.steps.reduce((function(e,t,n){var r=t.id;return b(b({},e),{},d.default({},r,n))}),{});return b(b({},e),{},{steps:a.steps,stepMap:o});case"INCREMENT_CURRENT_STEP":return b(b({},e),{},{currentStep:n<r.length-1?n+1:n});case"DECREMENT_CURRENT_STEP":return b(b({},e),{},{currentStep:n>0?n-1:n});case"STEP_COMPLETED":return b(b({},e),{},{currentStep:n<r.length-1?n+1:n,stepsCompleted:[].concat(s.default(e.stepsCompleted),[a.step])});case"GO_TO_STEP":return b(b({},e),{},{currentStep:l[a.id]});default:return e}},g=o.default.createContext(),T=function(){var t=e.useContext(g),n=c.default(t,2),r=n[0],l=n[1],u=r.currentStep,a=r.steps,o=r.stepsCompleted;if(!g)throw new Error("useStepper should be used inside StepperProvider");var p=e.useCallback((function(){l({type:"INCREMENT_CURRENT_STEP"})}),[l]),i=e.useCallback((function(){l({type:"DECREMENT_CURRENT_STEP"})}),[l]),s=e.useCallback((function(e){return l({type:"SET_STEPS",payload:{steps:e}})}),[l]),d=e.useCallback((function(e){return l({type:"STEP_COMPLETED",payload:{step:e}})}),[l]);return{decrementCurrentStep:i,goToStep:e.useCallback((function(e){return l({type:"GO_TO_STEP",payload:{id:e}})}),[l]),incrementCurrentStep:p,setStepCompleted:d,setSteps:s,currentStep:u,steps:a,checkStepCompleted:function(e){return o.includes(e)}}},x=i.default.div(E||(E=p.default(['\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 1;\n\n  .step-counter {\n    position: relative;\n    z-index: 5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 35px;\n    height: 35px;\n    padding: 10px;\n    border-radius: 50%;\n    background: #ccc;\n    margin-bottom: 6px;\n  }\n\n  &::after {\n    position: absolute;\n    content: "";\n    border-bottom: 2px solid #ccc;\n    width: 100%;\n    top: 17px;\n    left: 50%;\n    z-index: 2;\n  }\n\n  &.completed {\n    .step-counter {\n      background-color: #4bb543;\n    }\n    &::before {\n      position: absolute;\n      content: "";\n      border-bottom: 2px solid #4bb543;\n      width: 100%;\n      top: 17px;\n      left: -50%;\n      z-index: 3;\n    }\n  }\n\n  &:first-child {\n    &::before {\n      content: none;\n    }\n  }\n\n  &:last-child {\n    &::after {\n      content: none;\n    }\n  }\n\n  @media (max-width: 768px) {\n    font-size: 12px;\n  }\n']))),O=i.default.div(S||(S=p.default(["\n  margin-top: auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n"]))),P=function(e){var t=e.children,n=T(),r=n.currentStep,l=n.goToStep,u=n.steps,a=n.checkStepCompleted;return o.default.createElement(_,null,o.default.createElement(O,null,u.length?u.map((function(e,t){return o.default.createElement(x,{key:e.id,className:r>=t||a(e.id)?"completed":"",onClick:function(){return l(e.id)}},o.default.createElement("div",{className:"step-counter"},a(e.id)?"Done":t+1),o.default.createElement("div",{className:"step-name"},e.name))})):null),o.default.createElement(j,null,t))};P.Step=function(e){var t=e.children;return o.default.createElement(o.default.Fragment,null,t)},P.Steps=function(t){var n=t.children,r=T(),l=r.currentStep,u=r.steps,a=r.setSteps;return e.useEffect((function(){var e=o.default.Children.toArray(n).filter((function(e){return"StepperStep"===e.type.name})).map((function(e){return e.props}));a(e)}),[a]),o.default.createElement("div",null,n&&o.default.Children.map(n,(function(e){if(u.length)return e.props.id===u[l].id?e:null})))},P.Container=function(t){var n=t.children,r=e.useReducer(C,v),l=c.default(r,2),u=l[0],a=l[1];return o.default.createElement(g.Provider,{value:[u,a]},n)};var _=i.default.div(y||(y=p.default(["\n  display: flex;\n  flex-direction: column;\n"]))),j=i.default.div(h||(h=p.default(["\n  padding: 50px 16px;\n"]))),w={Button:f,Stepper:P};module.exports=w;
